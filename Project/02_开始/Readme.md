# 开始 
[toc]
------
### 1. 程序块(chunk)
#### 1. 语句
* 语句以分号`;`结尾
* 语句末尾分号`;`可以省略
* 同行多个语句,最好以`;`分隔开,提高可读性

``` Lua
--语句1:以空格分隔语句,可读性较差不建议使用
a=15 b=16

--语句2;以换行分隔语句
a=15
b=16

--语句3:以分号分隔语句
a=15;b=16

--语句4:以分号与换行分隔语句
a=15;
b=16;
```

#### 2. Chunk
* Lua程序块指一条或多条合法的可执行语句
* Lua解释器以程序块的方式处理Lua代码
* 每一段可执行的Lua代码都可以成为程序块
* 一个程序块由一条或多条Lua语句构成
	* 简单程序块:一条语句
	* 复杂程序块:多条不同语句及函数定义构成

``` Lua
--程序块1:合法
function f(a,b)
	return a*a+b*b;
end

--程序块2:合法
a,b=1,2
a=a*a+b*b

--程序块3:合法,a的值为nil
local a=a;

--程序块4:不合法,do定义局部块,要指明开始与结束,此程序块缺少end
do
	return 1;

```

#### 3. Lua命令行加载chunk方式
1. 通常将chunk保存为以`.lua`为后缀的文件
2. 命令行执行时加载Lua文件
	1. lua -i <LuaFile>:加载lua文件,并进入交互模式
	2. 进入交互模式后,利用`dofile("LuaFile")`加载Lua文件

### 2. 词法规范
#### 1. 标识符
* 由字母,数字,下划线组成
* 只能以字母,下划线开头，不能以数字开头
* 大小写敏感
* 最好不要使用下划线+大写字母做标识符,Lua中保留字为此格式

#### 2. 保留字
|1|2|3|4|5|
|---|---|---|---|---|
|and|break|do|else|elseif|
|end|false|for|function|if|
|in|local|nil|not|or|
|repeat|return|then|true|until|
|while|||||

#### 3. 注释
* 单行注释:'--注释内容'
* 多行/块注释: --[[注释内容--]]
* 取消多行/块注释: ---[[取消注释内容--]]

``` lua
--注释1:单行注释

--[[
注释2:多行/块注释
--]]

---[[
注释5:取消多行/块注释
--]]
```

### 3. 全局变量
* 全局变量不需要声明,给一个变量赋值后即创建了这个全局变量
* 访问一个未初始化全局变量不会出错,返回nil
* 如果想删除一个全局变量,只需将其赋值为nil`(当且仅当一个变量不等于nil时,这个变量存在)`

### 4. 解释器程序 
* 格式为:lua [选项参数] [脚本[参数]]

#### 1. 选项参数
1. -e:直接将命令传入Lua
2. -l:加载一个文件
3. -i:进入交互模式
\_ROMPT:内置变量作为交互模式提示符,可以修改为自定义的提示符

``` lua
--直接将`print(math.sin(12))`命令传入Lua执行
> lua -e "print(math.sin(12))"	-->-0.53657291800043
--修改交互模式提示符
> lua -i -e "_PROMPT=' lua>'"
> 
```

#### 2. 交互模式输出打印
1. print():输出
2. =语句():输出语句执行结果(作为计算器使用)
3. io.write():输出

``` lua
> print("Hello Lua")	--> Hello Lua
> =math.abs(-10)	-->10
> io.write("Hello Lua")	-->Hello Lua

```

#### 3. Lua运行过程
1. 在运行参数前,Lua会查找环境变量`LUA_INIT`的值,如果存在且值为`@filename`,Lua将加载指定文件
2. 如果值存在但是不是以@开头,Lua将假定filename为Lua代码文件并运行它

利用上面的特性,可以通过配置,灵活设置交互模式环境,可以加载包,修改提示符和路径,定义自己的函数,修改或者重命名函数等
